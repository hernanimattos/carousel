"use strict";var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Carousel=function(){function e(){_classCallCheck(this,e),this.dots=document.querySelectorAll(".dots"),this.wrapper=document.querySelectorAll(".carousel-wrapper")[0],this.cellWidth=Array.from(document.querySelectorAll(".cell-item")),this.trashItem=Array.from(document.querySelectorAll(".value-trash")),this.dataValues=Array.from(document.querySelectorAll("[data-value]")),this.totalCash=document.getElementById("total-cash"),this.getDotClicked(),this.getItemToRemove()}return _createClass(e,[{key:"getDotClicked",value:function(){var e=this,t=Array.from(this.dots);t.map(function(a,r){a.addEventListener("click",function(a){t.map(function(e){return e.classList.remove("active")}),a.target.classList.add("active"),e.moveSlide(r)})})}},{key:"moveSlide",value:function(e){0===e&&(this.wrapper.style.marginLeft=this.calculateWrapper()/4+"px");var t=this.calculateWrapper()*e-this.calculateWrapper()/4;this.wrapper.style.marginLeft="-"+t+"px"}},{key:"calculateWrapper",value:function(){var e=this.cellWidth.map(function(e){var t=window.getComputedStyle(e);return parseInt(t.marginLeft.replace("px",""),10)+parseInt(t.marginRight.replace("px",""),10)});return parseInt(e,10)+parseInt(this.cellWidth[0].clientWidth,10)}},{key:"getItemToRemove",value:function(){var e=this;this.trashItem.map(function(t){t.addEventListener("click",function(t){var a=t.target.parentNode.parentNode;new Promise(function(e,t){var r=a.classList.add("remove");setTimeout(function(){e(r)},500)}).then(function(){a.remove()}).then(function(){e.setTotalValue(),e.calculateTotal()})})})}},{key:"calculateTotal",value:function(){var e=this;return this.dataValues.map(function(t){return e.cleanValue(t.dataset.value)}).reduce(function(e,t){return parseInt(e)+parseInt(t)},0)}},{key:"setTotalValue",value:function(){this.dataValues=Array.from(document.querySelectorAll("[data-value]")),0==this.calculateTotal()?this.totalCash.textContent="VocÃª faliu":this.totalCash.textContent="R$ "+this.formatReal(this.calculateTotal())}},{key:"formatReal",value:function(e){var t=e+"";return(t=t.replace(/([0-9]{2})$/g,",$1")).length>6&&(t=t.replace(/([0-9]{3}),([0-9]{2}$)/g,".$1,$2")),t}},{key:"cleanValue",value:function(e){return e.replace(/[!@#$%^&*.,]/g,"")}}]),e}();new Carousel;
"use strict";var utils={formatReal:function(e){var r=e+"";return(r=r.replace(/([0-9]{2})$/g,",$1")).length>6&&(r=r.replace(/([0-9]{3}),([0-9]{2}$)/g,".$1,$2")),r}};
//# sourceMappingURL=scripts.js.map
